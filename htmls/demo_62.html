<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="js/jquery-1.10.2.min.js">
			
		</script>
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
		<title></title>
		<script type="text/javascript">
			$(document).ready(function(){
				var canvas=$("#canvas")[0],
					ctx=canvas.getContext("2d"),
					g=0.5,
					ax=0,
					vx=0,
					vy=0,
					w=canvas.width,
					h=canvas.height,
					arcX=150,
					arcY=100,
					r=50,
					bounce=-0.6;
				(function draw(){
					window.requestAnimationFrame(draw,canvas);
					ctx.clearRect(0,0,w,h);
					ctx.beginPath();
					ctx.moveTo(100,300);
					ctx.lineTo(900,500);
					ctx.stroke();
					ctx.closePath();
					ctx.save();
					vy+=g;
					vx+=ax;
					arcY+=vy;
					arcX+=vx;
					angle=Math.atan2(500-300,900-100);
					//console.log(angle);
					//4和225由100a+b=300,900a+b=500.方程组的解a，b。
					con=arcX/4+225;
					if(arcY>=con){
						arcY=con;
						vy*=bounce;
					}
					console.log(vy);
					ctx.arc(arcX,arcY,r,0,Math.PI*2,true);
					ctx.fill();
					ctx.restore();
					
				}())
			})
		</script>
	</head>
	<body>
		<canvas id="canvas" width="1000" height="500"></canvas>
	</body>
</html>
